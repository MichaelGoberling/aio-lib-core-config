const yaml=require("js-yaml"),status=Symbol.for(`aio-cli-config.pipe`);module.exports=()=>new Promise(a=>{if(global[status]||process.stdin.isTTY)return a(global[status]);let b=[];process.stdin.on("data",a=>b.push(a.toString())),process.stdin.once("end",()=>{let c=b.join("");if(0<b.length)try{c=yaml.safeLoad(c)}catch(a){}global[status]=c,a(c)})});